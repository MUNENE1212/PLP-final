# Docker Compose Environment Variables
# ‚ö†Ô∏è CRITICAL: Copy this file to .env in the root directory and fill in your values
# üîí NEVER commit the actual .env file to version control!

# ===== HOW TO USE =====
# 1. Copy this file: cp .env.docker.example .env
# 2. Generate strong secrets: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# 3. Fill in ALL required values below
# 4. Verify .env is in .gitignore before committing anything!

# ===== APPLICATION SETTINGS =====
NODE_ENV=development  # Change to 'production' for production
BACKEND_PORT=5000
FRONTEND_PORT=3000

# ===== MONGODB CONFIGURATION =====
# ‚ö†Ô∏è REQUIRED: Use strong passwords (minimum 20 characters)
# Generate: openssl rand -base64 32
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=CHANGE-THIS-TO-A-STRONG-PASSWORD-MIN-20-CHARS
MONGO_DB_NAME=ementech

# For production (external MongoDB Atlas)
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/ementech?retryWrites=true&w=majority

# ===== JWT CONFIGURATION =====
# ‚ö†Ô∏è REQUIRED: Generate strong secrets (64+ characters)
# Generate: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=REPLACE-WITH-GENERATED-SECRET-FROM-CRYPTO-RANDOMBYTES-64-CHARS-MIN
JWT_REFRESH_SECRET=REPLACE-WITH-ANOTHER-GENERATED-SECRET-DIFFERENT-FROM-ABOVE
JWT_EXPIRE=15m
JWT_REFRESH_EXPIRE=7d

# Redis
REDIS_HOST=redis
REDIS_PORT=6379

# CORS
CORS_ORIGIN=http://localhost:3000

# Frontend API URL
VITE_API_URL=http://localhost:5000/api/v1

# M-Pesa Configuration
MPESA_CONSUMER_KEY=your-mpesa-consumer-key
MPESA_CONSUMER_SECRET=your-mpesa-consumer-secret
MPESA_PASSKEY=your-mpesa-passkey
MPESA_SHORTCODE=174379
MPESA_ENVIRONMENT=sandbox
MPESA_CALLBACK_URL=https://yourdomain.com/api/v1/payments/mpesa/callback

# Optional: Email Configuration
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# FROM_EMAIL=noreply@ementech.com
# FROM_NAME=EmEnTech

# ===== GOOGLE DRIVE CONFIGURATION (Primary Media Storage) =====
# See backend/GOOGLE_DRIVE_SETUP.md for detailed setup instructions
GOOGLE_DRIVE_FOLDER_ID=your-google-drive-folder-id
# For Docker, use GOOGLE_CREDENTIALS_JSON env var or mount the file as a volume

# ===== SECURITY WARNINGS =====
# üîí This file contains sensitive credentials!
# 1. NEVER commit this file to version control
# 2. Use strong, randomly generated passwords (20+ characters)
# 3. Generate unique secrets for JWT_SECRET and JWT_REFRESH_SECRET
# 4. Rotate credentials regularly (every 90 days)
# 5. Use different credentials for development and production
# 6. Store production credentials in a secure password manager
# 7. Review DOCKER_SECURITY.md for comprehensive security guidelines

# ===== OPTIONAL: AWS S3 for file uploads (alternative to Google Drive) =====
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=ementech-uploads
